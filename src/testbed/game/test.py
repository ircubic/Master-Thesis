from interest import interest

visits =
[
    [
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 3, 2, 1, 0, 0, 0, 0, 0, 0,],
     [0, 1, 1, 1, 0, 1, 1, 0, 0, 0,],
     [0, 0, 1, 0, 0, 0, 2, 0, 0, 0,],
     [0, 0, 1, 0, 0, 1, 3, 1, 0, 0,],
     [0, 1, 1, 0, 0, 0, 1, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 1, 0, 0, 0,],
     [0, 0, 0, 0, 0, 1, 1, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     ],
     [
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 1, 2, 1, 0, 0,],
     [0, 1, 2, 3, 0, 0, 0, 1, 0, 0,],
     [0, 0, 1, 1, 0, 0, 0, 2, 1, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     ],
     [
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 2, 0, 0, 0, 0, 0,],
     [0, 0, 2, 3, 4, 2, 0, 0, 1, 1,],
     [0, 1, 1, 0, 0, 0, 0, 3, 2, 2,],
     [0, 0, 0, 0, 0, 0, 0, 0, 1, 1,],
     [0, 0, 0, 0, 0, 0, 1, 2, 1, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
     [0, 0, 0, 0, 0, 0, 0, 0, 0, 0,],
    ]
]

ticks = [13.0, 8.0, 15.0]

expected = 0.422837

I = interest(ticks, visits, .5, 1., 4., 15., 2.)

print I, numpy.isclose(I, expected, rtol=1e-05, atol=1e-08, equal_nan=False)
