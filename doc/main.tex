\documentclass[11pt,a4paper,twoside]{report} % DO NOT CHANGE, UNLESS IF CHANGING STYLE
\usepackage[round,sort&compress,authoryear]{natbib}
\usepackage[usenames,dvipsnames]{color}
\usepackage{hyperref}
\usepackage{hypcap}
\usepackage{graphicx,subfigure,multirow,listings,amssymb,amsmath,url}


% Set up some colors
\definecolor{gray92}{gray}{.92}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}

% Set up some PDF options and reference coloration
\hypersetup{
    pdftitle={Automated Synthesis of NPC AI with ADATE},    % title
    pdfauthor={Daniel E. Bruce},     % author
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links
    citecolor=black,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

% listings settings
\lstset{
  breaklines=true,
  framerule=0.5pt,
  linewidth=\textwidth,
  numbers=left,
  showstringspaces=false
}

\lstdefinestyle{console}
{
  numbers=none,
  basicstyle=\bf\ttfamily,
  backgroundcolor=\color{gray92},
  frame=lrtb,
}

%\lstset{style=console}

% Use "normal" paragraph separation
\setlength{\parskip}{1.3ex plus 0.2ex minus 0.2ex}
\setlength{\parindent}{0pt}

% Nicer margin comments
\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\-\oldmarginpar[\raggedleft\footnotesize #1]%
{\raggedright\footnotesize #1}}


\input{front}       % DO NOT CHANGE, OR REMOVE IF CHANGING STYLE

\author{Daniel E. Bruce}
\title{Automated Synthesis of\\ NPC AI with ADATE}
\date{\today\\
    Halden, Norway
}
\begin{document}

    % Fancy Header Style Options
    %\pagestyle{fancy}                       % Sets fancy header and footer
    %\fancyfoot{}                            % Delete current footer settings
    \renewcommand{\chaptermark}[1]{         % Lower Case Chapter marker style
    \markboth{\chaptername\ \thechapter.\ #1}{}}
    \renewcommand{\sectionmark}[1]{         % Lower case Section marker style
    \markright{\thesection.\ #1}}
    \fancyhead[LE,RO]{\bfseries\thepage}    % Page number (boldface) in left on even
                                            % pages and right on odd pages
    \fancyhead[RE]{\bfseries\leftmark}      % Chapter in the right on even pages
    \fancyhead[LO]{\bfseries\rightmark}     % Section in the left on odd pages
    \renewcommand{\headrulewidth}{0.3pt}    % Width of head rule
    %%% Clear Header %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    % Clear Header Style on the Last Empty Odd pages
    \makeatletter
    \def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
        \hbox{}%
        \thispagestyle{empty}%              % Empty header styles
        \newpage%
        \if@twocolumn\hbox{}\newpage\fi\fi\fi}
    \makeatother

    \cleardoublepage

    % DO NOT CHANGE
    %-------------------------------------------------
    \maketitle
    \input{abstract}
    \addcontentsline{toc}{chapter}{Abstract}
    %-------------------------------------------------

    % OPTIONAL
    %-------------------------------------------------
    \input{acknowledgements}
    \addcontentsline{toc}{chapter}{Acknowledgements}
    \input{prerequisites}
    \addcontentsline{toc}{chapter}{Prerequisites}
    %-------------------------------------------------

    \newpage % DO NOT CHANGE
    \renewcommand{\contentsname}{Table of Contents}  % Original name = Contents
    \tableofcontents

    \cleardoublepage % DO NOT CHANGE
    % Different font in captions
    \newcommand{\captionfonts}{\small}
    \makeatletter  % Allow the use of @ in command names
    \long\def\@makecaption#1#2{%
    \vskip\abovecaptionskip
    \sbox\@tempboxa{{\captionfonts #1: #2}}%
    \ifdim \wd\@tempboxa >\hsize
        {\captionfonts #1: #2\par}
    \else
        \hbox to\hsize{\hfil\box\@tempboxa\hfil}%
    \fi
    \vskip\belowcaptionskip}
    \makeatother   % Cancel the effect of \makeatletter

    % format the "box" used for source code listings
    \lstset{backgroundcolor=\color[rgb]{0.95,0.95,0.95},basicstyle=\footnotesize,xleftmargin=0.25cm,linewidth=150mm}
    % input the chapters
    %\setcounter{chapter}{3} %-> f√∏rste kapittel er nummer 4...
    \pagenumbering{arabic}
    \setcounter{page}{1}

    % BODY
    %-------------------------------------------------
    \input{introduction}
    \input{background}
    \input{design}
    \input{implementation}
    \input{testing}
    \input{conclusion}
    %-------------------------------------------------

    % END MATTER

    % DO NOT CHANGE
    %-------------------------------------------------
    \bibliographystyle{abbrvnat}
    \renewcommand{\bibname}{References}  % Original name = Bibliography
    \bibliography{topics,thesis}
    \listoffigures
    \addcontentsline{toc}{chapter}{List of figures}
    \listoftables
    \addcontentsline{toc}{chapter}{List of tables}
    %-------------------------------------------------

    % OPTIONAL
    %-------------------------------------------------
    %\appendix
    %\input{glossary}
    %-------------------------------------------------
\end{document}
